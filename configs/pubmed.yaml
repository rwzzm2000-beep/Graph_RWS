# Graph_RWS/configs/pubmed.yaml
# 数据源（使用 DGL 下载 Pubmed 后立即转换为 BCSR）
dataset:
  source: dgl
  module: dgl.data
  class: PubmedGraphDataset
  kwargs: {verbose: False}     # [修改] 关闭 DGL 加载时的详细日志
  feature_key: feat
  label_key: label
  train_mask_key: train_mask   # [新增] 显式指定掩码键名，与 Cora 保持一致
  val_mask_key: val_mask
  test_mask_key: test_mask

# BCSR 结构参数
tile_rows: 16
tile_cols: 8
warps_per_block: 8

use_baps: false

# GNN 模型超参
# fanouts 的长度用于推导 num_layers = len(fanouts)
fanouts: [25, 10]              # [修改] 增加第一层采样数 (原 [10, 10])，获取更多邻居信息
hidden_size: 256               # [修改] 增大隐藏层维度 (原 64)，适配 500 维的输入特征
dropout: 0.5
residual: false                # 浅层网络保持 false 即可
normalize_features: true

# 训练设置
epochs: 150                    # Pubmed 比 Cora 大，多给一些轮次
lr: 0.01
weight_decay: 0.0005           # 保持经典设置
eval_interval: 10              # 每 10 轮验证一次，减少日志刷屏
patience: 100                  # [修改] 增加耐心值 (原 50)，让模型有更多震荡收敛的机会
use_scheduler: true

# 显存优化开关
use_uva: false             # 开启 UVA：特征在 CPU，按需传输
use_checkpoint: false      # 开启 Checkpoint：以计算换显存
use_rcm: false

# 是否保存模型
save_model: false
# 模型保存路径
save_path: Graph_RWS/save_models/

# 是否保存结果
save_result: false
# 结果保存路径
result_path: Graph_RWS/results/

# 采样设置
# 全图训练设为 false; 启用采样设为 true
sampling: false
batch_size: 256                # 保持 512，对于 Pubmed 这种规模比较稳妥